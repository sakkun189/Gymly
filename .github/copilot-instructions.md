# Gymly 技術仕様書

## 概要
**Gymly** は、ユーザーが通っているジムにある器具・設備に合わせて最適なトレーニングメニューを提案する Web サービス。  
対象は筋トレ初心者。目的は、器具の選び方や効果が分からない問題を解消し、個々のジム環境に合ったトレーニングを提供すること。

---

## 開発環境
- フレームワーク：Laravel 12（PHP 8.2+）
- フロントエンド：Blade + Bootstrap 5
- 認証：Laravel Breeze
- データベース：PostgreSQL（本番環境） / SQLite（開発環境）
- ソース管理：GitHub

---

## 基本設計

### 認証・登録
- 認証方式：メールアドレス＋パスワード
- パスワードポリシー：8桁以上、英字と数字を必ず含む
- 年齢・性別入力：必須
- ユーザーIDはシステム自動採番
- 通っているジム情報（必須）
  - ジム名称
  - ジム住所（都道府県、市区町村、番地を分割入力）
- マッチング機能の利用可否を登録時に選択可能

### ジム情報管理
- ジム名称＋住所をキーに器具情報を共有
- 器具リスト：管理者が追加可能
- 器具カテゴリ：固定（胸、脚、背中、腕、肩、腹など）
- 表記ゆれ（全角/半角、法人格など）に対する正規化ルールは別途定義

---

## 機能仕様

### 1. ジム設備登録
- 部位別チェックボックスで器具を選択
- 自由入力欄あり（特殊器具対応）
- 同一ジムの既存データがある場合、該当器具は初期状態でチェックON  
- 自由入力欄の共有可否は未決定
- 既存データONの条件（初回のみ / 編集時もON）は未決定

### 2. トレーニングメニュー提案
- 提案ロジック：ルールベース（目的 × 器具 × 経験レベル）
- 経験レベル：自己申告（初心者・中級者・上級者）
- 器具がない場合は代替トレーニング（自重等）を提示
- 各種目に対象部位、回数、セット数、使い方ガイド（YouTubeリンク）を添付

### 3. 週間トレーニングプラン
- 曜日・部位ごとの自動スケジュール生成
- ユーザーによる編集可能
- 進捗可視化：重量・回数を含めて記録
- リマインダー通知：メール送信

### 4. トレーニング記録・分析
- 記録方法：手入力
- 項目：種目、重量、回数、日付
- グラフ表示（ライブラリ未定）
- 記録の編集・削除履歴保持：可能

### 5. トレーニング仲間マッチング
- 条件：地域、目的、器具、経験レベル
- マッチング拒否設定可能
- メッセージ機能：アプリ内チャット
- 位置情報：同一ジム単位で取得・保存

---

## 運用・管理機能
- 管理者用ユーザー管理画面（アカウントBAN、編集）
- 器具・ジム情報マスター編集機能
- 不適切コンテンツの削除機能（将来的に追加可能）

---

## セキュリティ
- HTTPS必須
- CSRF対策
- 個人情報（住所・メールアドレス）の暗号化保存
- 日本の個人情報保護法に準拠

---

## インフラ
- 本番環境ホスティング：未定（AWS、Render等を想定）
- 画像・動画は外部サービス利用（YouTubeリンク）、将来的にAWS S3等の利用可
- DB・ファイルの定期バックアップを実施

---

## 未決定事項
1. 自由入力欄の内容を他ユーザーに共有するかどうか
2. 既存データONの適用タイミング（初回のみ or 編集時も）
3. 統計グラフのライブラリ選定（Chart.js, D3.js等）
